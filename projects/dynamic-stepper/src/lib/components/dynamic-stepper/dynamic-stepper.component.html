<div id="create-stepper">

    <!-- CENTER -->
    <div class="center">

        <!-- STEPS HEADER -->
        <steps-header [steps]="steps"
                      [currentStep]="currentStep"
                      [showGoBack]="showGoBack"
                      (gotoStep)="onGotoStep($event)"
                      (goBack)="goBack.emit()">

          <ng-container *ngTemplateOutlet="stepsHeader"></ng-container>
        </steps-header>
        <!-- / STEPS HEADER -->

        <!-- STEPS CONTENT -->
        <div class="content">

          <div fxFlex fxLayout="row" fxLayoutAlign="center center" class="step">
            <div class="step-content">
              <ng-container *ngTemplateOutlet="stepsContent"></ng-container>
            </div>
          </div>
        </div>
        <!-- / STEPS CONTENT -->

        <!-- NEXT & PREVIOUS BUTTONS -->
        <div class="step-navigation">
            <button mat-fab class="previous mat-accent" (click)="onGotoPreviousStep()" [fxHide]="currentStep === 0">
                <mat-icon>chevron_left</mat-icon>
            </button>

            <button mat-fab class="next mat-accent" (click)="onGotoNextStep()" [fxHide]="currentStep === totalSteps - 1">
                <mat-icon>chevron_right</mat-icon>
            </button>

            <button mat-fab (click)="confirmLastStep.emit()" [fxShow]="currentStep === totalSteps - 1">
                <mat-icon>check</mat-icon>
            </button>
        </div>
        <!-- / NEXT & PREVIOUS BUTTONS -->

    </div>
    <!-- / CENTER -->

  <video style="display: none" #video width="600" height="480" autoplay [srcObject]="stream"></video>

  <canvas #canvas width="640" height="480"></canvas>

</div>

<ng-template #stepsHeader>
  <ng-content select="[stepsHeader]"></ng-content>
</ng-template>

<ng-template #stepsContent>
  <ng-content select="[stepsContent]"></ng-content>
</ng-template>
